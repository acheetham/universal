var fluid = fluid || {};

(function ($, fluid) {
    
    // registering this typetag allows the framework to know we're in a particular environment
    fluid.staticEnvironment.gpiiPcp = fluid.typeTag("gpii.pcp");

    fluid.defaults("gpii.pcp.store", {
        // "fluid.uiOptions.store" is the base grade for any settings store
        gradeNames: ["fluid.uiOptions.store", "autoInit"],
        invokers: {
            fetch: {
                funcName: "gpii.pcp.store.fetch",
                args: ["{store}.options.userToken"]
            },
            save: {
                funcName: "gpii.pcp.store.save",
                args: ["{store}.options.userToken"]
            }
        },

        // your Store can define whatever options you need
        userToken: "testToken"
    });

    // your fetch and save can be written however you need
    gpii.pcp.store.fetch = function (userToken) {
        console.log("This is my custom fetch function");
    };
    gpii.pcp.store.save = function (userToken) {
        console.log("This is my custom save function");
    };

    // This demands block says:
    // "When 'gpii.pcp' is in the environment, use 'gpii.pcp.store' instead of the default."
/*
Uncomment this block when you're written appropriate fetch() and save().
Right now, with nothing in the fetch(), it will not fetch anything, and the controls
will not render properly.
    fluid.demands("fluid.uiOptions.store", ["fluid.uiEnhancer", "gpii.pcp"], {
        funcName: "gpii.pcp.store"
    });
*/

})(jQuery, fluid);
