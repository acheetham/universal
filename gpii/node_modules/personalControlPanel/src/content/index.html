<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>

<!-- Required CSS files -->
<link rel="stylesheet" type="text/css" href="webapp/shared/css/fss/css/fss-layout.css" />
<link rel="stylesheet" type="text/css" href="webapp/shared/css/fss/css/fss-text.css" />
<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/fss/fss-theme-bw-uio.css" />
<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/fss/fss-theme-wb-uio.css" />
<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/fss/fss-theme-by-uio.css" />
<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/fss/fss-theme-yb-uio.css" />
<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/fss/fss-text-uio.css" />

<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/UIOptions.css" />
<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/FullUIOptions.css" />
<link rel="stylesheet" type="text/css" href="infusion-1.4/components/uiOptions/css/FullNoPreviewUIOptions.css" />

 <!-- jQuery files -->
<script type="text/javascript" src="infusion-1.4/lib/jquery/core/js/jquery.js"></script>
<script type="text/javascript" src="infusion-1.4/lib/jquery/ui/js/jquery.ui.core.js"></script>
<script type="text/javascript" src="infusion-1.4/lib/jquery/ui/js/jquery.ui.widget.js"></script>
<script type="text/javascript" src="infusion-1.4/lib/jquery/ui/js/jquery.ui.mouse.js"></script>
<script type="text/javascript" src="infusion-1.4/lib/jquery/ui/js/jquery.ui.accordion.js"></script>
<script type="text/javascript" src="infusion-1.4/lib/jquery/ui/js/jquery.ui.slider.js"></script>
 
<script type="text/javascript" src="infusion-1.4/lib/json/js/json2.js"></script>
 
<!-- Infusion files -->
<script type="text/javascript" src="infusion-1.4/framework/core/js/jquery.keyboard-a11y.js"></script>
<script type="text/javascript" src="infusion-1.4/framework/core/js/Fluid.js"></script>
<script type="text/javascript" src="infusion-1.4/framework/core/js/FluidRequests.js"></script> <!-- New in v1.3 -->
<script type="text/javascript" src="infusion-1.4/framework/core/js/FluidDOMUtilities.js"></script>
<script type="text/javascript" src="infusion-1.4/framework/core/js/DataBinding.js"></script>
<script type="text/javascript" src="infusion-1.4/framework/core/js/FluidIoC.js"></script> <!-- New in v1.4 -->
<script type="text/javascript" src="infusion-1.4/lib/fastXmlPull/js/fastXmlPull.js"></script>
<script type="text/javascript" src="infusion-1.4/framework/renderer/js/fluidParser.js"></script>
<script type="text/javascript" src="infusion-1.4/framework/renderer/js/fluidRenderer.js"></script>
<script type="text/javascript" src="infusion-1.4/framework/renderer/js/RendererUtilities.js"></script>
<script type="text/javascript" src="infusion-1.4/components/uiOptions/js/Store.js"></script> <!-- New in v1.4 -->
<script type="text/javascript" src="infusion-1.4/components/uiOptions/js/UIEnhancer.js"></script>
<script type="text/javascript" src="infusion-1.4/components/uiOptions/js/UIOptions.js"></script>
<script type="text/javascript" src="infusion-1.4/components/tableOfContents/js/TableOfContents.js"></script>
 
<!-- for Full-Page UI Options only: -->
<script type="text/javascript" src="infusion-1.4/components/uiOptions/js/FullNoPreviewUIOptions.js"></script> <!-- New in v1.4 -->

</head>

<body>
<h1>Personal Control Panel Prototype</h1>

 <!-- This is the div that will contain the UI Options component -->
    <div id="myUIOptions"> </div>

<script type="text/javascript">
    // registering this typetag allows the framework to know we're in a particular environment
    fluid.staticEnvironment.gpiiPcp = fluid.typeTag("gpii.pcp");

    // Instantiate the UI Enhancer component, specifying the table of contents' template URL
    fluid.pageEnhancer({
        tocTemplate: "infusion-1.4/components/tableOfContents/html/TableOfContents.html",
        
/*
		// override default settings here, if desired
        defaultSiteSettings: {
            textFont: "default",          // key from classname map
            theme: "default",             // key from classname map
            textSize: 1,                  // in points
            lineSpacing: 1,               // in ems
            layout: false,                // boolean
            toc: false,                   // boolean
            links: false,                 // boolean
            inputsLarger: false           // boolean
        },	
*/
        // custom foreground colour settings
        classnameMap: {
            theme: {
                "default": "fl-theme-mist",
                "white": "fl-theme-uio-bw fl-theme-bw",
                "black": "fl-theme-uio-wb fl-theme-wb",
                "yellow": "fl-theme-uio-by fl-theme-by",
                "green": "fl-uio-default-theme"
            }
        }
    });
 
    // Instantiate the UI Options component
    
fluid.uiOptions.fullNoPreview("#myUIOptions", {
		// custom foreground colour dropdown
        textControls: {
            options: {
                classnameMap: "{uiEnhancer}.options.classnameMap",
                strings: {
                    theme: ["Default", "White", "Black",
                            "Yellow", "Green"]
                },
                controlValues: {
                    theme: ["default", "white", "black", "yellow", "green"]
                }
            }
        },
		
        // Tell UIOptions where to find all the templates, relative to this file
//        prefix: "infusion-1.4/components/uiOptions/html/",
		prefix: "templates/", 

		// Specify a custom root page
        templateLoader: {
            options: {
                templates: {
                    uiOptions: "%prefix/PCPDialog.html",
		            textControls: "%prefix/UIOptionsTemplate-text.html",
                }
            }
		},
        // Tell UIOptions where to redirect to if the user cancels the operation
        uiOptions: {
            options: {
                listeners: {
                    onCancel: function(){
                        window.location = "";
                    }
                }
            }
        }
    });

	fluid.demands("fluid.uiOptions.layoutControls", ["fluid.uiOptions", "gpii.pcp"], {
		funcName: "fluid.emptySubcomponent"
	});

	fluid.demands("fluid.uiOptions.linksControls", ["fluid.uiOptions", "gpii.pcp"], {
		funcName: "fluid.emptySubcomponent"
	});

    fluid.demands("fluid.textfieldSlider", ["fluid.uiOptions", "gpii.pcp"], {
    	options: {
        model: {
        		value: 12,
	            min: 10,
	            max: 20
	        },
    		sliderOptions: {
    			step: 2
    		}
    	}
    });

</script>
</body>
</html>





